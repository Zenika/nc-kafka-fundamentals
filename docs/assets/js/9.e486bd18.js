(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{367:function(e,a,t){"use strict";t.r(a);var r=t(44),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"lab01-decouverte-kafka-zookeeper-et-akhq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lab01-decouverte-kafka-zookeeper-et-akhq"}},[e._v("#")]),e._v(" Lab01 - Découverte Kafka, Zookeeper et AKHQ")]),e._v(" "),t("h2",{attrs:{id:"rappel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rappel"}},[e._v("#")]),e._v(" Rappel")]),e._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{attrs:{src:"lab01.png",alt:"lab01"}})]),e._v(" "),t("blockquote",[t("ul",[t("li",[e._v("Pourquoi Zookeeper ?")]),e._v(" "),t("li",[e._v("La fameuse KIP-500 : "),t("a",{attrs:{href:"https://issues.apache.org/jira/browse/KAFKA-9119",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://issues.apache.org/jira/browse/KAFKA-9119"),t("OutboundLink")],1)])])]),e._v(" "),t("h2",{attrs:{id:"topic-partition-segment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#topic-partition-segment"}},[e._v("#")]),e._v(" Topic / Partition / Segment")]),e._v(" "),t("p",[t("img",{attrs:{src:"topic.etc.png",alt:"Topic etc."}})]),e._v(" "),t("h2",{attrs:{id:"premier-pas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#premier-pas"}},[e._v("#")]),e._v(" Premier pas")]),e._v(" "),t("ul",[t("li",[e._v("Création d'un topic via le conteneur "),t("code",[e._v("tools")])])]),e._v(" "),t("blockquote",[t("p",[e._v("Attention le broker ne permet pas la création de topic à la volée "),t("code",[e._v("KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'")])])]),e._v(" "),t("p",[e._v("Se connecter dans le conteneur "),t("code",[e._v("tools")]),e._v(" et créer un topic à l'aide de la ligne de commande")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" -it tools "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dans le conteneur tools")]),e._v("\nkafka-topics --if-not-exists --bootstrap-server kafka:9092 --create --topic demo --replication-factor "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" --partitions "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n")])])]),t("blockquote",[t("ul",[t("li",[e._v("Pourquoi le replication factor de 1 ?")]),e._v(" "),t("li",[e._v("Pourquoi le partition de 1 ?")]),e._v(" "),t("li",[e._v("Pourquoi le bootstrap-server ?")])])]),e._v(" "),t("ul",[t("li",[e._v("Verifier avec la CLI le topic créé")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("kafka-topics --list --bootstrap-server kafka:9092\n")])])]),t("blockquote",[t("p",[e._v("Checker également côté akhq")])]),e._v(" "),t("ul",[t("li",[e._v("Démarrer un producer à l'aide de la ligne de commande")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("kafka-console-producer --broker-list kafka:9092 --topic demo\n")])])]),t("ul",[t("li",[e._v("Démarrer un consumer à l'aide de la ligne de commande")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("kafka-console-consumer --bootstrap-server kafka:9092 --topic demo --from-beginning\n")])])]),t("blockquote",[t("p",[e._v("Consulter le lag et l'existence du consumer-group via akhq")])]),e._v(" "),t("h2",{attrs:{id:"akhq-anciennement-kafkahq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#akhq-anciennement-kafkahq"}},[e._v("#")]),e._v(" AKHQ (anciennement KafkaHQ)")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Pour consulter AKHQ en local "),t("a",{attrs:{href:"http://akhq:8080/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://akhq:8080/"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("Produit local Ch'ti !")])]),e._v(" "),t("li",[t("p",[e._v("Développé par "),t("code",[e._v("@tchiotludo")])])]),e._v(" "),t("li",[t("p",[e._v("Wep App open source qui expose une interface permettant :")]),e._v(" "),t("ul",[t("li",[e._v("Monitorer son cluster (broker, topics, consumer group, etc.)")]),e._v(" "),t("li",[e._v("Visualiser le contenu de la schéma registry")]),e._v(" "),t("li",[e._v("Lire / Écrire de la donnée")]),e._v(" "),t("li",[e._v("etc.")])])])]),e._v(" "),t("p",[t("img",{attrs:{src:"akhq.svg",alt:"akhq"}}),e._v(" "),t("img",{attrs:{src:"akhq_broker.png",alt:"akhq broker"}}),e._v(" "),t("img",{attrs:{src:"akhq_topic.png",alt:"akhq topic"}})])])}),[],!1,null,null,null);a.default=s.exports}}]);